# 浏览器的渲染原理
是指浏览器将 HTML、CSS 和 JavaScript 代码转换为用户可视页面的过程，这一过程涉及多个关键步骤的协同工作

## 从输入URL到页面展示，这中间发生了什么？
1. DNS 解析:将域名解析成 IP 地址
2. TCP 连接：TCP 三次握手
3. 发送 HTTP 请求
4. 服务器（web 框架）处理请求并返回 HTTP 报文
5. 浏览器解析渲染页面
6. 断开连接：TCP 四次挥手

* 导航流程具体过程:用户发出 URL 请求到页面开始解析的这个过程，叫做导航
  - 首先，浏览器进程接收到用户输入的 URL 请求，浏览器进程便将该 URL 转发给网络进程。
  - 然后，在网络进程中发起真正的 URL 请求。网络进程接收到了响应头数据，便解析响应头数据，并将数据转发给浏览器进程。
  - 浏览器进程接收到网络进程的响应头数据之后，发送“提交导航 (CommitNavigation)”消息到渲染进程；
  - 渲染进程接收到“提交导航”的消息之后，便开始准备接收 HTML 数据，直接和网络进程建立数据管道；
  - 最后渲染进程会向浏览器进程“确认提交”，这是告诉浏览器进程：“已经准备好接受和解析页面数据了”。
  - 浏览器进程接收到渲染进程“提交文档”的消息之后，便开始移除之前旧的文档，然后更新浏览器进程中的页面状态。

* 渲染流程：
  - 解析 HTML，构建 DOM 树
  - 解析 CSS，生成 CSSOM 树
  - 合并 DOM 和 CSSOM，生成渲染树（Render Tree）
  - 布局（Layout / Reflow）
  - 绘制：分层绘制
  - 合成（Compositing）

* 览器渲染流程的时间线
  - HTML → DOM → CSSOM → Render Tree → Layout → Paint → Composite