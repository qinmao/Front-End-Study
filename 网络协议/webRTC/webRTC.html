<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>webrtc</title>
    </head>
    <body>
        <video src="" id="video"></video>
        <script>
            const video = document.querySelector("#video");
            // 想要获取一个最接近 1280x720 的相机分辨率
            const constraints = {
                audio: true,
                video: {
                    width: { min: 1024, ideal: 1280, max: 1920 },
                    height: { min: 576, ideal: 720, max: 1080 },
                    frameRate: { max: 30 },
                },
            };
            navigator.mediaDevices
                .getUserMedia(constraints)
                .then(function (mediaStream) {
                    video.srcObject = mediaStream;
                    video.onloadedmetadata = function (e) {
                        video.play();
                    };
                })
                .catch(function (err) {
                    /* 处理error */
                    console.log(err);
                });
        </script>
    </body>
</html>
